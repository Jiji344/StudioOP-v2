import React, { useRef, useEffect } from 'react'
import './LogoBanner.css'

const LogoBanner = () => {
  const trackRef = useRef(null)
  
  const logos = [
    { name: 'Logo 1', type: 'custom1' },
    { name: 'Logo 2', type: 'custom2' },
    { name: 'Logo 3', type: 'custom3' },
    { name: 'Logo 4', type: 'custom4' },
    { name: 'Logo 5', type: 'custom5' },
    { name: 'Logo 6', type: 'custom6' },
  ]

  // Dupliquer les logos plusieurs fois pour un défilement infini sans saccade
  const duplicatedLogos = [...logos, ...logos, ...logos, ...logos]

  useEffect(() => {
    const track = trackRef.current
    if (!track) return

    let position = 0
    const speed = 0.5 // Vitesse de défilement (pixels par frame)

    const animate = () => {
      position -= speed
      
      // Calculer la largeur d'un set complet de logos (largeur + gap)
      const logoWidth = 80
      const gap = 120
      const itemWidth = logoWidth + gap
      const setWidth = itemWidth * logos.length
      
      // Réinitialiser la position quand on a parcouru un set complet
      // Cela crée un effet de boucle infinie sans saccade
      if (Math.abs(position) >= setWidth) {
        position = 0
      }
      
      track.style.transform = `translateX(${position}px)`
      requestAnimationFrame(animate)
    }

    const animationId = requestAnimationFrame(animate)
    
    return () => {
      cancelAnimationFrame(animationId)
    }
  }, [logos.length])

  return (
    <div className="logo-banner-container">
      <div className="logo-banner-track" ref={trackRef}>
        {duplicatedLogos.map((logo, index) => (
          <div key={index} className="logo-item">
            {logo.type === 'custom1' ? (
              <svg enableBackground="new 0 0 512 512" height="512" viewBox="0 0 512 512" width="512" xmlns="http://www.w3.org/2000/svg" className="logo-svg-custom">
                <g>
                  <path d="m90.667 6.4h330.667c50.133 0 90.666 40.533 90.666 90.667v317.867c0 50.133-40.533 90.667-90.667 90.667h-330.666c-50.134-.001-90.667-40.534-90.667-90.668v-317.866c0-50.134 40.533-90.667 90.667-90.667z" fill="#390000"></path>
                  <g fill="#ff9a00">
                    <path d="m248.107 305.92h-79.36l-16.213 50.133c-.427 1.92-2.133 3.2-4.053 2.987h-40.107c-2.347 0-2.987-1.28-2.347-3.84l68.693-197.76c.64-2.133 1.28-4.48 2.133-7.04.853-4.48 1.28-9.173 1.28-13.867-.213-1.067.64-2.133 1.707-2.347h.64 54.613c1.707 0 2.56.64 2.773 1.707l77.867 219.733c.64 2.347 0 3.413-2.133 3.413h-44.587c-1.493.213-2.987-.853-3.413-2.347zm-66.987-43.307h54.187l-27.307-88.96z"></path>
                    <path d="m362.24 170.667c-7.04.213-13.867-2.56-18.987-7.467-4.907-5.333-7.467-12.373-7.253-19.627-.213-7.253 2.56-14.08 7.68-18.987s11.947-7.467 18.987-7.467c8.32 0 14.72 2.56 19.413 7.467 4.693 5.12 7.253 11.947 7.04 18.987.213 7.253-2.347 14.293-7.467 19.627-4.906 5.12-12.16 7.893-19.413 7.467z"></path>
                    <path d="m338.347 355.84v-164.267c0-2.133.853-2.987 2.773-2.987h42.24c1.92 0 2.773 1.067 2.773 2.987v164.267c0 2.347-.853 3.413-2.773 3.413h-41.813c-2.134 0-3.2-1.28-3.2-3.413z"></path>
                  </g>
                </g>
              </svg>
            ) : logo.type === 'custom2' ? (
              <svg enableBackground="new 0 0 512 512" height="512" viewBox="0 0 512 512" width="512" xmlns="http://www.w3.org/2000/svg" className="logo-svg-custom">
                <g>
                  <path d="m90.667 6.4h330.667c50.133 0 90.666 40.533 90.666 90.667v317.867c0 50.133-40.533 90.667-90.667 90.667h-330.666c-50.134-.001-90.667-40.534-90.667-90.668v-317.866c0-50.134 40.533-90.667 90.667-90.667z" fill="#001834"></path>
                  <g fill="#00a9ff">
                    <path d="m115.2 356.48v-219.52c0-1.493.64-2.347 2.133-2.347 3.627 0 7.04 0 11.947-.213 5.12-.213 10.453-.213 16.213-.427s11.947-.213 18.56-.427c6.613-.213 13.013-.213 19.413-.213 17.493 0 32 2.133 43.947 6.613 10.667 3.627 20.48 9.6 28.587 17.493 6.827 6.827 12.16 15.147 15.573 24.32 3.2 8.96 4.907 18.133 4.907 27.733 0 18.347-4.267 33.493-12.8 45.44s-20.48 20.907-34.347 26.027c-14.507 5.333-30.507 7.253-48 7.253-5.12 0-8.533 0-10.667-.213-2.133-.213-5.12-.213-9.173-.213v68.48c.213 1.493-.853 2.773-2.347 2.987-.213 0-.427 0-.853 0h-40.533c-1.707 0-2.56-.853-2.56-2.773zm46.507-180.693v71.68c2.987.213 5.76.427 8.32.427h11.307c14.731 0 31.744-3.462 42.026-15.146 8.849-10.056 8.874-29.998 1.707-40.96-8.508-13.013-25.522-16.783-40.107-16.427-5.547 0-10.453 0-14.507.213-4.266-.214-7.253-.001-8.746.213z"></path>
                    <path d="m409.6 234.453c-6.4-3.413-13.227-5.76-20.48-7.253-7.893-1.707-15.787-2.773-23.893-2.773-4.267-.213-8.747.427-12.8 1.493-2.773.64-5.12 2.133-6.613 4.267-1.067 1.707-1.707 3.84-1.707 5.76s.853 3.84 2.133 5.547c1.92 2.347 4.48 4.267 7.253 5.76 4.907 2.56 10.027 4.907 15.147 7.04 11.52 3.84 22.613 9.173 32.853 15.573 7.04 4.48 12.8 10.453 16.853 17.707 3.413 6.827 5.12 14.293 4.907 21.973.213 10.027-2.773 20.053-8.32 28.373-5.973 8.533-14.293 15.147-23.893 18.987-10.453 4.48-23.253 6.827-38.613 6.827-9.813 0-19.413-.853-29.013-2.773-7.467-1.28-14.933-3.627-21.76-6.827-1.493-.853-2.56-2.347-2.347-4.053v-37.12c0-.64.213-1.493.853-1.92s1.28-.213 1.92.213c8.32 4.907 17.067 8.32 26.453 10.453 8.107 2.133 16.64 3.2 25.173 3.2 8.107 0 13.867-1.067 17.707-2.987 3.413-1.493 5.76-5.12 5.76-8.96 0-2.987-1.707-5.76-5.12-8.533s-10.453-5.973-20.907-10.027c-10.88-3.84-20.907-8.96-30.293-15.36-6.613-4.693-12.16-10.88-16.213-18.133-3.413-6.827-5.12-14.293-4.907-21.76 0-9.173 2.56-17.92 7.253-25.813 5.333-8.533 13.227-15.36 22.4-19.627 10.027-5.12 22.613-7.467 37.76-7.467 8.747 0 17.707.64 26.453 1.92 6.4.853 12.587 2.56 18.347 4.907.853.213 1.707 1.067 2.133 1.92.213.853.427 1.707.427 2.56v34.773c0 .853-.427 1.707-1.067 2.133-1.919.427-2.986.427-3.839 0z"></path>
                  </g>
                </g>
              </svg>
            ) : logo.type === 'custom3' ? (
              <svg enableBackground="new 0 0 512 512" height="512" viewBox="0 0 512 512" width="512" xmlns="http://www.w3.org/2000/svg" className="logo-svg-custom">
                <g>
                  <path d="m90.667 6.4h330.667c50.133 0 90.666 40.533 90.666 90.667v317.867c0 50.133-40.533 90.667-90.667 90.667h-330.666c-50.134-.001-90.667-40.534-90.667-90.668v-317.866c0-50.134 40.533-90.667 90.667-90.667z" fill="#54001a"></path>
                  <g fill="#ff3068">
                    <path d="m186.027 136.96v218.88c0 2.347-1.067 3.413-2.987 3.413h-41.813c-1.92 0-2.773-1.067-2.773-3.413v-218.88c0-1.92 1.067-2.773 2.987-2.773h41.6c1.28-.213 2.56.64 2.773 2.133.213.213.213.427.213.64z"></path>
                    <path d="m308.907 362.667c-15.787.213-31.573-2.987-45.867-9.6-13.44-6.187-24.533-16.427-32.213-29.013-7.893-13.013-11.733-29.227-11.733-48.64-.213-15.787 3.84-31.36 11.733-45.013 8.107-13.867 19.84-25.387 33.92-33.067 14.933-8.32 32.853-12.373 53.973-12.373 1.067 0 2.56 0 4.48.213s4.053.213 6.613.427v-67.413c0-1.493.64-2.347 2.133-2.347h43.307c1.067-.213 1.92.64 2.133 1.493v.427 203.093c0 3.84.213 8.107.427 12.8.427 4.48.64 8.747.853 12.373 0 1.493-.64 2.773-2.133 3.413-11.093 4.693-22.827 8.107-34.773 10.24-10.667 1.92-21.76 2.987-32.853 2.987zm20.906-42.667v-93.867c-1.92-.427-3.84-.853-5.76-1.067-2.347-.213-4.693-.427-7.04-.427-8.32 0-16.64 1.707-24.107 5.547-7.253 3.627-13.44 8.96-18.133 15.787s-7.04 16-7.04 27.093c-.213 7.467 1.067 14.933 3.627 21.973 2.133 5.76 5.333 10.88 9.6 15.147 4.053 3.84 8.96 6.827 14.507 8.533 5.76 1.92 11.733 2.773 17.707 2.773 3.2 0 6.187-.213 8.96-.427 2.773.215 5.333-.212 7.679-1.065z"></path>
                  </g>
                </g>
              </svg>
            ) : logo.type === 'custom4' ? (
              <svg enableBackground="new 0 0 512 512" height="512" viewBox="0 0 512 512" width="512" xmlns="http://www.w3.org/2000/svg" className="logo-svg-custom">
                <g>
                  <path d="m90.667 6.4h330.667c50.133 0 90.666 40.533 90.666 90.667v317.867c0 50.133-40.533 90.667-90.667 90.667h-330.666c-50.134-.001-90.667-40.534-90.667-90.668v-317.866c0-50.134 40.533-90.667 90.667-90.667z" fill="#001834"></path>
                  <g fill="#00a9ff">
                    <path d="m268.8 359.253h-135.253c-2.347 0-3.413-1.28-3.413-3.84v-218.026c-.213-1.493.853-2.773 2.347-2.987h.853 41.813c1.067-.213 2.347.64 2.347 1.707v.64 179.2h98.56c2.133 0 2.773 1.067 2.347 2.987l-6.187 37.12c0 1.067-.64 1.92-1.28 2.56-.641.426-1.281.639-2.134.639z"></path>
                    <path d="m302.933 188.587h37.333c2.133 0 3.84 1.493 4.48 3.413.853 1.493 1.493 3.2 1.707 4.907.427 2.133.853 4.48 1.067 6.613.213 2.347.427 4.907.427 7.68 6.4-7.467 14.08-13.653 22.827-18.347 9.813-5.333 20.693-7.893 31.787-7.68 1.493-.213 2.773.853 2.987 2.347v.853 41.6c0 1.707-1.067 2.347-3.413 2.347-13.867-.853-27.733 1.707-40.32 7.253-4.267 1.92-8.32 4.48-11.52 7.893v108.8c0 2.133-.853 2.987-2.773 2.987h-41.6c-1.707.213-3.2-.853-3.413-2.56 0-.213 0-.64 0-.853v-118.187c0-5.12 0-10.453-.213-16s-.213-11.093-.427-16.64c-.213-4.693-.64-9.387-1.28-14.08-.213-1.067.427-2.133 1.493-2.347.211-.213.425-.213.851.001z"></path>
                  </g>
                </g>
              </svg>
            ) : logo.type === 'custom5' ? (
              <svg enableBackground="new 0 0 512 512" height="512" viewBox="0 0 512 512" width="512" xmlns="http://www.w3.org/2000/svg" className="logo-svg-custom">
                <g>
                  <path d="m256.599 256c0-47.128 38.205-85.333 85.333-85.333 47.128 0 85.333 38.206 85.333 85.333 0 47.129-38.206 85.333-85.333 85.333-47.129 0-85.333-38.205-85.333-85.333z" fill="#00bcff"></path>
                  <path d="m85.932 426.667c0-47.128 38.205-85.333 85.333-85.333l45.475-24.009 39.858 24.009v85.333c0 47.129-38.205 85.333-85.333 85.333-47.128 0-85.333-38.205-85.333-85.333z" fill="#00cf7f"></path>
                  <path d="m256.599 0-46.434 80.67 46.434 89.996h84.136c47.129 0 85.333-38.205 85.333-85.333 0-47.128-38.205-85.333-85.333-85.333z" fill="#ff7361"></path>
                  <path d="m84.734 85.333c0 47.128 38.205 85.333 85.333 85.333l45.267 17.484 41.263-17.484v-170.666h-86.531c-47.127 0-85.332 38.205-85.332 85.333z" fill="#ff4d12"></path>
                  <path d="m85.932 256c0 47.129 38.205 85.333 85.333 85.333h85.333v-170.667h-85.333c-47.128 0-85.333 38.206-85.333 85.334z" fill="#b659ff"></path>
                 </g>
               </svg>
             ) : logo.type === 'custom6' ? (
               <img src="/Asset/6em.png" alt="Logo 6" className="logo-image" />
             ) : (
               <div 
                 className="logo-adobe" 
                 style={{ 
                   backgroundColor: logo.bgColor,
                   color: logo.color 
                 }}
               >
                 {logo.initials}
               </div>
             )}
          </div>
        ))}
      </div>
    </div>
  )
}

export default LogoBanner

